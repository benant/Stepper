(function(t,e){"use strict";function s(e){e=t.extend({},f,e||{});for(var s=t(this),p=0,r=s.length;p<r;p++)a(s.eq(p),e);return s}function a(e,s){if(!e.hasClass("stepper-input")){s=t.extend({},s,e.data("stepper-options"));var a=parseFloat(e.attr("min")),n=parseFloat(e.attr("max")),i=parseFloat(e.attr("step"))||1;e.addClass("stepper-input").after('<div class="stepper '+s.customClass+'" ><span class="stepper-arrow up">'+s.labels.up+'</span><span class="stepper-arrow down">'+s.labels.down+"</span></div>");var o=e.siblings(".stepper"),u=t.extend({$stepper:o,$input:e,$arrow:o.find(".stepper-arrow"),min:void 0!==typeof a&&!isNaN(a)&&a,max:void 0!==typeof n&&!isNaN(n)&&n,step:void 0===typeof i||isNaN(i)?1:i,timer:null},s);u.digits=d(u.step),e.is(":disabled")&&o.addClass("disabled"),o.parent().on("keypress",".stepper-input",u,p),o.parent().on("touchstart.stepper mousedown.stepper",".stepper-arrow",u,r).data("stepper",u)}}function p(t){var e=t.data;38!==t.keyCode&&40!==t.keyCode||(t.preventDefault(),i(e,38===t.keyCode?e.step:-e.step))}function r(e){e.preventDefault(),e.stopPropagation(),n(e);var s=e.data;if(!s.$input.is(":disabled")&&!s.$stepper.hasClass("disabled")){var a=t(e.target).hasClass("up")?s.step:-s.step;s.timer=o(s.timer,125,function(){i(s,a,!1)}),i(s,a),t("body").on("touchend.stepper mouseup.stepper",s,n)}}function n(e){e.preventDefault(),e.stopPropagation();var s=e.data;u(s.timer),t("body").off(".stepper")}function i(t,e){var s=parseFloat(t.$input.val()),a=e;void 0===typeof s||isNaN(s)?a=!1!==t.min?t.min:0:!1!==t.min&&s<t.min?a=t.min:a+=s;var p=(a-t.min)%t.step;0!==p&&(a-=p),!1!==t.min&&a<t.min&&(a=t.min),!1!==t.max&&a>t.max&&(a-=t.step),a!==s&&(a=l(a,t.digits),t.$input.val(a).trigger("change"))}function o(t,e,s){return u(t),setInterval(s,e)}function u(t){t&&(clearInterval(t),t=null)}function d(t){var e=String(t);return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}function l(t,e){var s=Math.pow(10,e);return Math.round(t*s)/s}var f={customClass:"",labels:{up:"Up",down:"Down"}},c={defaults:function(e){return f=t.extend(f,e||{}),"object"!=typeof this||t(this)},destroy:function(){return t(this).each(function(e){var s=t(this).data("stepper");s&&(s.$stepper.off(".stepper").find(".stepper-arrow").remove(),s.$input.unwrap().removeClass("stepper-input"))})},disable:function(){return t(this).each(function(e){var s=t(this).data("stepper");s&&(s.$input.attr("disabled","disabled"),s.$stepper.addClass("disabled"))})},enable:function(){return t(this).each(function(e){var s=t(this).data("stepper");s&&(s.$input.attr("disabled",null),s.$stepper.removeClass("disabled"))})}};t.fn.stepper=function(t){return c[t]?c[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?this:s.apply(this,arguments)},t.stepper=function(t){"defaults"===t&&c.defaults.apply(this,Array.prototype.slice.call(arguments,1))}})(jQuery);